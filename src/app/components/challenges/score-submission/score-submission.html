<form (ngSubmit)="submit()" *ngIf="!isSubmitting; else loading">
  <div class="mb-3">
    <label for="aceptaelretoUsername" class="form-label">Usuario en aceptaelreto.com</label>
    <input type="text" class="form-control" id="aceptaelretoUsername" 
           [(ngModel)]="aceptaelretoUsername" name="aceptaelretoUsername" required>
  </div>

  <div class="mb-3">
    <label for="score" class="form-label">Puntaje obtenido</label>
    <input type="number" class="form-control" id="score" 
           [(ngModel)]="score" name="score" required>
  </div>

  <div class="mb-3">
    <label for="code" class="form-label">Código completo</label>
    <textarea class="form-control" id="code" rows="10" 
              [(ngModel)]="code" name="code" required></textarea>
    <small class="text-muted">Pega aquí todo el código que usaste en aceptaelreto.com</small>
  </div>

  <button type="submit" class="btn btn-primary">Enviar solución</button>

  <div *ngIf="submissionError" class="alert alert-danger mt-3">
    {{ submissionError }}
  </div>
</form>

<ng-template #loading>
  <div class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Enviando...</span>
    </div>
    <p>Enviando tu solución...</p>
  </div>
</ng-template>